\subsection{Wissensträgerschnittstelle}\label{subsec:Wissensträgerschnittstelle}
Als erster Schnitt in der Automatisierung der Datenerfassung von \textit{PaaSfinder} wird eine Web-Schnittstelle zur Dateneingabe entwickelt (Wissensträgerschnittstelle). Mithilfe dieser soll die Aktualisierung eines bestehenden Vendors ermöglicht werden. Der Ablauf wird in Abbildung \ref{fig:update-allgemein} veranschaulicht. Das Anlegen oder Löschen eines Vendors liegt nicht im Anwendungsbereich der Schnittstelle.
\begin{figure}[H] 
	\centering
	\includegraphics[width=1.0\textwidth]{images/update.png}
	\caption{Profilaktualisierung mittels Wissensträgerschnittstelle}
	\label{fig:update-allgemein}
\end{figure}
Der Ablauf in Abbildung \ref{fig:update-allgemein} lässt sich in zwei Schritte aufteilen. Dieser Abschnitt beschäftigt sich mit dem ersten Schritt, in welchem die Daten von einem Wissensträger entgegengenommen, zusammenfasst und abschickt werden. Die Verarbeitung dieser Daten erfolgt im zweiten Schritt, der im nächsten Abschnitt besprochen wird. Allgemein besteht der erste Schritt aus folgenden Aktionen:
\begin{enumerate}
\item \textit{Vendorauswahl} (Vendor Page)
\item \textit{Aktualisieren} des Profils (Update Page)
\item \textit{Überprüfung} der Daten (Review Page)
\item \textit{Absenden} der Daten (Submit)
\end{enumerate}
Der gesamte Prozess lässt sich wie in Abbildung \ref{fig:activity} als Aktivitätsdiagramm darstellen. Die verwendete Notation entspricht dem UML-Standard 2.5 \footnote{http://www.omg.org/spec/UML/2.5/PDF}. Es werden Knoten (Rechtecke) für Aktivitäten und Kanten (Pfeile) für Verbindungen verwendet. Bei den Verbindungen werden Kontrollfluss- und Datenflussverbindungen unterschieden. Im Fall einer Datenflussverbindung gibt es einen Ein- und einen Ausgabe-Pin (kleiner Quadrat). Die Rauten kennzeichnen Fallunterscheidungen.
\begin{figure}[H] 
	\centering
	\includegraphics[width=1.0\textwidth]{images/activity.png}
	\caption{Aktivitätsdiagramm der Aktualisierung eines Vendors}
	\label{fig:activity}
\end{figure}
Ausgehend von einer Vendor Page wird der Ablauf durch den Link \glqq{}Add an Update\grqq{} gestartet. Als Nächstes werden die Daten eingegeben. Wenn die Vendorinformationen aus Sicht des Wissensträgers vollständig sind, klickt dieser auf \glqq{}Review\grqq{}. Sonst wird der Schritt der Dateneingabe wiederholt. Sobald der \glqq{}Review\grqq{}-Button geklickt wurde, gelangt der Nutzer zur Review Page. Hier können die Daten überprüft werden. Wenn die Daten korrekt sind, können diese mit dem Klick auf \glqq{}Submit\grqq{} an den Worker gesendet werden. Andernfalls kann der Wissensträger zurück zur Dateneingabe gehen und die Daten überarbeiten. Zu jedem Zeitpunkt besteht die Möglichkeit, den Vorgang abzubrechen, indem das Browserfenster geschlossen wird. Die Daten werden nur dann gesendet, wenn der \glqq{}Submit\grqq{}-Button auf der Review Page geklickt wurde. Im weiteren Verlauf wird die Implementierung der Update Page und Review Page beschrieben.\\
Die Update Page umfasst zwei Aspekte. Erstens sollen die Vendordaten für den Wissensträger geeignet dargestellt werden. Zweitens soll die Eingabe neuer und die Änderung bestehender Daten ermöglicht werden. Außerdem sollen die Änderungen am Profil dynamisch zwischengespeichert werden. Das ist eine herausfordernde Aufgabe, da ein Vendor, abgesehen von allgemeinen Eigenschaften (z.B. \glqq{}name\grqq{}), aus komplexen und teils verschachtelten Datentypen besteht. In Abbildung \ref{fig:profil} wird dies am Beispiel von \glqq{}runtimes\grqq{} (Laufzeitumgehungen) gezeigt. Gelb steht dabei für ein Objekt, grau für eine Liste und weiß für einen String (Zeichenkette). Hier umfasst ein Vendor eine Liste von \glqq{}runtimes\grqq{}. Eine \glqq{}runtime\grqq{} besteht wiederum aus \glqq{}language\grqq{} und \glqq{}versions\grqq{}.
\begin{figure}[H] 
	\centering
	\includegraphics[width=0.90\textwidth]{images/vendor.png}
	\caption{Ausschnitt aus Vendor Datentyp }
	\label{fig:profil}
\end{figure}
Um diese Aufgabe zu lösen, werden die Daten in zwei Richtungen gebunden (two-way data binding). Zu diesem Zweck wird das Open-Source Framework Knockout.js\footnote{http://knockoutjs.com} eingesetzt, eine JavaScript Bibliothek zur Erstellung dynamischer Inhalte. Das Framework basiert auf dem \ac{MVVM} Entwurfsmuster\footnote{http://knockoutjs.com/documentation/observables.html}:
\begin{itemize}
\item \textit{Model}: Daten, die unabhängig auf einem Server liegen (hier: verfügbare Vendors).
\item \textit{ViewModel}: Programmcode der Daten und Operationen auf der Benutzerschnittstelle anzeigt (hier: JavaScript Klasse für Vendor (Modell)).
\item \textit{View}: Benutzerschnittstelle, die den Zustand des ViewModels abbildet und bei Benutzeraktionen aktualisiert (hier: Update Page).
\end{itemize}
Als Erstes werden die für das Modell erforderlichen Daten über die \textit{PaaSfinder}-\acs{API}\footnote{https://paasfinder.org/api/vendors/} geholt und das Modell initialisiert. Da das Modell komplexe Datentypen umfasst, sind explizite JavaScript-Klassen nötig. Beispielsweise gibt es für \glqq{}runtime\grqq{} und \glqq{}version\grqq{} eigene Klassen mit jeweils unterschiedlichem Verhalten. Die Klasse \glqq{}runtime\grqq{} beinhaltet z.B. die Methode zum Hinzufügen einer neuen Version. Nachdem das Modell initialisiert wurde, wird das Data-Binding zwischen dem Modell und der View aktiviert.\\
Während die Update Page die Benutzerdaten entgegennimmt, werden die Daten auf der Review Page zusammengefasst, sodass der Wissensträger die Eingaben überprüfen kann. Die Profildaten werden mithilfe von Web Stogare\footnote{https://www.w3.org/TR/webstorage/} zwischen der Update Page und der Review Page ausgetauscht. Der W3C-Standard definiert zwei Arten der Speicherung, nämlich Session und Local Storage. Session Storage wird ausschließlich innerhalb des Browserfensters verwendet. Auf die Inhalte des Local Storage kann dagegen innerhalb einer Domain zeitlich unbeschränkt zugegriffen werden. Aus diesem Grund wird im Weiteren das Local Storage betrachtet.\\
Auf der Update Page wird beim Klicken auf \glqq{}Review\grqq{} ein Vendor in das Local Storage gespeichert. Das Speichern bzw. Lesen basiert wie bei JSON auf dem Schlüssel/Wert-Paar-Prinzip. Der Schlüssel ist dabei der Name des Vendors, der bei der API benutzt wird. Da der Schlüssel als Parameter an die Review Page geschickt wird, können die Daten problemlos gelesen werden. Es besteht ebenso die Möglichkeit, den Vendor auf der Update Page zurückzusetzen, indem die Vendordaten aus dem Local Storage gelöscht und erneut von der \textit{PaaSfinder}-API angefordert werden.\\
Im folgenden Beispiel wird der Vendor \glqq{}Heroku\grqq{} aktualisiert, indem eine neue Java Version (1.9) in \glqq{}runtimes\grqq{} hinzugefügt wird.
\begin{enumerate}
\item Auf der Vendor Page auf \glqq{}Add an Update\grqq{} klicken.
	\begin{figure}[H] 
		\centering
		\includegraphics[width=1.0\textwidth]{images/ablauf/vendor-page.png}
		\caption{Vendor Page}
		\label{fig:vendor-page}
	\end{figure}
\item Eine neue Java Version (1.9) hinzufügen (siehe Abbildung \ref{fig:update-page}).
	\begin{figure}[H] 
		\centering
		\includegraphics[width=1.0\textwidth]{images/ablauf/update-page.png}
		\caption{Update Page}
		\label{fig:update-page}
	\end{figure} 
\item Die Daten auf der Review Page überprüfen (siehe Abbildung \ref{fig:vendor-page}).
	\begin{figure}[H] 
		\centering
		\includegraphics[width=1.0\textwidth]{images/ablauf/review-page.png}
		\caption{Review Page}
		\label{fig:review-page}
	\end{figure} 
\item Optional kann der Wissensträger seine Kontaktdaten (Name und E-Mail-Adresse) sowie eine Nachricht zum Update hinterlassen.
	\begin{figure}[H] 
		\centering
		\includegraphics[width=1.0\textwidth]{images/ablauf/kontaktform.png}
		\caption{Kontaktformular}
		\label{fig:kontaktdatenform}
	\end{figure} 
\item Anschließend werden die Daten mit dem Klick auf den \glqq{}Submit\grqq{}-Button an die für die Datenübermittlung zuständige Schnittstelle geschickt.
\end{enumerate}
Ein wichtiger Aspekt bei der Entwicklung der Wissensträgerschnittstelle ist die Va\-li\-die\-rung der Eingabedaten. In einigen Fällen können problematische Eingaben bereits auf der Ebene der Benutzerschnittstelle (Update Page) verhindert werden. Als Beispiel wird im Kontaktformular (Abbildung \ref{fig:kontaktdatenform}) bei der E-Mail Adresse mittels des HTLM-Attributs type=\glqq{}email\grqq{} sichergestellt, dass der Input der formalen Input-Struktur einer E-Mail Adresse entspricht. Allerdings kann dieser Ansatz nicht immer angewendet werden. So kann im Feld für eine Version kein type=\glqq{}number\grqq{} Attribut verwendet werden, da eine Version ein Sonderzeichen (z.B. *) oder einen Buchstaben enthalten kann.